<HTML><HEAD><TITLE>xiph.org: Ogg Vorbis documentation</TITLE>
<BODY bgcolor="#ffffff" text="#202020" link="#006666" vlink="#000000">
<nobr><img src="white-ogg.png"><img src="vorbisword2.png"></nobr><p>

<h1><font color=#000070>
Ogg Vorbis I format specification: residue setup and decode
</font></h1>

<em>Last update to this document: July 18, 2002</em><br>

<h1>Overview</h1>

A residue vector represents the fine detail of the audio spectrum of
one channel in an audio frame after the encoder subtracts the floor
curve and performs any channel coupling.  A residue vector may
represent spectral lines, spectral magnitude, spectral phase or
hybrids as mixed by channel coupling.<p>

Whatever the exact qualities, the Vorbis residue abstraction codes
groups of residue vectors of the same length into the bitstream
packet, and then reconstructs the vectors into the same groups during
decode.  Vorbis makes use of three different encoding variants
(numbered 0, 1 and 2) of the same basic vector encoding abstration.<p>

<h1>Residue format</h1>

Reside format takes the bundles of vectors, partitions the vectors
into chunks, classifies each chunk, encodes the chunk classifications
and finally encodes the chunks using the the specific VQ arrangement
defined for each selected selected classification.  The exact
interleaving and partitioning vary by residue encoding number.<p>

<h2> residue 0 </h2>

Residue format zero partitions each channel vector seperately
according to the chunksize specified in setup.  Each chunk for each
channel has a unique classification.  Classification numbers are coded
by group to increase entropy coding efficiency.  Coding of residue
values is both interleaved and cascaded.<p>

Residue element interleave within each chunk 



Coding order is rougly as follows


<h2> residue 1 </h2>

<h2> residue 2 </h2>

<h1>Residue decode</h1>

<h2>header decode</h2>

<h2>packet decode, format 0</h2>

<h2>packet decode, format 1</h2>

<h2>packet decode, format 2</h2>


<hr>
<a href="http://www.xiph.org/">
<img src="white-xifish.png" align=left border=0>
</a>
<font size=-2 color=#505050>

Ogg is a <a href="http://www.xiph.org">Xiph.org Foundation</a> effort
to protect essential tenets of Internet multimedia from corporate
hostage-taking; Open Source is the net's greatest tool to keep
everyone honest. See <a href="http://www.xiph.org/about.html">About
the Xiph.org Foundation</a> for details.
<p>

Ogg Vorbis is the first Ogg audio CODEC.  Anyone may freely use and
distribute the Ogg and Vorbis specification, whether in a private,
public or corporate capacity.  However, the Xiph.org Foundation and
the Ogg project (xiph.org) reserve the right to set the Ogg Vorbis
specification and certify specification compliance.<p>

Xiph.org's Vorbis software CODEC implementation is distributed under a
BSD-like license.  This does not restrict third parties from
distributing independent implementations of Vorbis software under
other licenses.<p>

Ogg, Vorbis, Xiph.org Foundation and their logos are trademarks (tm)
of the <a href="http://www.xiph.org/">Xiph.org Foundation</a>.  These
pages are copyright (C) 1994-2002 Xiph.org Foundation. All rights
reserved.<p>

</body>

